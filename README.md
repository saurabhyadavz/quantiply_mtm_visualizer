# Quantiply MTM Visualizer âš¡

This project contains two Python scripts for working with [Quantiply](https://quantiply.tech/), a way to automate your trading platform.
The **scrap_pnl.py** script is used to scrape the profit and loss (PNL) data from the platform for a specified time interval and save it to a CSV file.
The **plot_mtm.py** script can be used to plot the mark-to-market (MTM) graph for a given day using the CSV file generated by **scrap_pnl.py**.

## Installation
To use these scripts, you will need **Python3** installed on your machine. [Clone](https://github.com/saurabhyadavz/quantiply_mtm_visualizer.git) or [download](https://github.com/saurabhyadavz/quantiply_mtm_visualizer/archive/refs/heads/main.zip) the repository and navigate to the root directory.

You can install the necessary dependencies by running:

```
pip install -r requirements.txt
```

## Usage
### scrap_pnl.py 

To use **scrap_pnl.py**, run the following command:
```
python scrap_pnl.py -phone [QUANTIPY_LOGIN_PHONE] -password [QUANTIPY_LOGIN_PASSWORD] [-outfile OUTFILE] [-interval INTERVAL]
```

The **phone** and **password** arguments are required to log in to the Quantiply platform. The **-outfile** argument is optional and can be used to specify the name of the output CSV file. If not specified, the default name is ```<curr_dir>_mtm_<current_date>.csv```. The **-interval** argument is also optional and is used to specify the time interval at which to scrape the PNL data. It should be in the format of _60s_, _1m_, or _1h_. If not specified, the default interval is _60s_.

### plot_mtm.py

To use **plot_mtm.py**, run the following command:

```
python plot_mtm.py [-mtm_file MTM_FILE]
```

The **-mtm_file** argument is optional and can be used to specify the name of the CSV file generated by **scrap_pnl.py**.
If not specified, the default file name ```mtm_<current_date>.csv``` will be used. It will save MTM plot in current directory as ```mtm_<date>.png```.

## How to run it everyday?

The easiest way to do this is using crontab. 

* Open crontab using below command:
```
crontab -e
```

* Insert following command in it:
```
# set timezone to Indian Standard Time
TZ=Asia/Kolkata

14 09 * * 1-5 python3 scrap_pnl.py -interval 60s -phone <YOUR_QUANTIPLY_PHONE> -password <YOUR_QUANTIPLY_PASS> &> <LOG_FILE_TO_STORE_LOG>
35 15 * * 1-5 python3 plot_mtm.py &> <LOG_FILE_TO_STORE_LOG>
```

For ex:



## License
This project is licensed under the [MIT License](https://opensource.org/license/mit/).
